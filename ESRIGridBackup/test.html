<html>
<head></head>
<body>

<script>

async function loadFile(file) {
	let time = Date.now();
	console.log("Parsing...");
	let fileReader = new FileReader();
	fileReader.readAsText(file);
	let arr = []
	fileReader.addEventListener("load", (event) => {
		let value = "";
		for (let symbol of event.target.result) {
			if (symbol !== " ") {
				value += symbol;
				continue;
			}
			arr.push(parseFloat(value));
			value = "";
		}
		console.log("Parsed in " + (Date.now() - time) + " ms");
	});
	while (true) {
		await new Promise(resolve => setTimeout(resolve, 1000));
		console.log(arr[0]);
	}
}

</script>

<input type="file" onchange="loadFile(this.files[0])"

</body>
</html>